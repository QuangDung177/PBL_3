@{
    ViewBag.Title = "Revenue";
    Layout = "~/Areas/Admin/Views/Shared/AdminLayoutPage1.cshtml";
}
@model List<int>
<head>
    <!-- Thêm Chart.js từ CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<style>
    .row_element-button {
        display: flex;
        flex-wrap: wrap;
        border-bottom: 1px solid #ddd;
        padding-bottom: 10px;
        margin-bottom: 10px;
        text-align: left;
        text-size-adjust: 100%;
        justify-content: space-between;
    }

    .widget-small {
        display: flex;
        background-color: white;
        padding: 10px;
        border-radius: .375rem;
    }

    .icon {
        border-radius: .375rem;
        width: 60px;
        height: 72px;
    }

        .icon svg {
            color: white;
        }

    .info {
        padding-left: 20px;
        color: red;
    }
</style>
<main class="main">
    <div class="main_title">
        <p class="main_title-label "><b>Thống kê doanh thu</b></p>
        <div id="clock"></div>
    </div>
    <div class="row" style="margin-left: 20px; padding-bottom: 20px;">
        <div class="col-md-6 col-lg-3">
            <div class="widget-small primary coloured-icon">
                <div class="icon" style="background-color: rgb(249, 186, 186);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-person-fill" viewBox="-2 -2 20 16">
                        <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6" />
                    </svg>
                </div>
                <div class="info">
                    <h4>Tổng Nhân viên</h4>
                    <p style="color: black;"><b> @ViewBag.Stafftotal nhân viên</b></p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="widget-small primary coloured-icon">
                <div class="icon" style="background-color: rgb(173, 203, 243);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-tag-fill" viewBox="-2 -2 20 16">
                        <path d="M2 1a1 1 0 0 0-1 1v4.586a1 1 0 0 0 .293.707l7 7a1 1 0 0 0 1.414 0l4.586-4.586a1 1 0 0 0 0-1.414l-7-7A1 1 0 0 0 6.586 1zm4 3.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0" />
                    </svg>
                </div>
                <div class="info">
                    <h4>Tổng sản phẩm</h4>
                    <p style="color: black;"><b>@ViewBag.Producttotal sản phẩm</b></p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="widget-small primary coloured-icon">
                <div class="icon" style="background-color: rgb(253, 225, 195);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-bag" viewBox="-2 -2 20 16">
                        <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z" />
                    </svg>
                </div>
                <div class="info">
                    <h4>Tổng đơn hàng</h4>
                    <p style="color: black;"><b>@ViewBag.Ordertotal đơn hàng</b></p>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-lg-3">
            <div class="widget-small primary coloured-icon">
                <div class="icon" style="background-color: rgb(185, 255, 211);">
                    <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-graph-up" viewBox="-2 -2 20 16">
                        <path fill-rule="evenodd" d="M0 0h1v15h15v1H0zm14.817 3.113a.5.5 0 0 1 .07.704l-4.5 5.5a.5.5 0 0 1-.74.037L7.06 6.767l-3.656 5.027a.5.5 0 0 1-.808-.588l4-5.5a.5.5 0 0 1 .758-.06l2.609 2.61 4.15-5.073a.5.5 0 0 1 .704-.07" />
                    </svg>
                </div>
                <div class="info">
                    <h4>Tổng doanh thu</h4>
                    <p style="color: black;"><b>@ViewBag.TotalRevenue đồng</b></p>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="title">
                <div class="row_element-button">
                    <canvas id="myChart" width="800" height="400"></canvas>
                </div>
            </div>
        </div>
    </div>
</main>
<
<script>
        // Hàm JavaScript chart nhận giá trị doanhThu và vẽ biểu đồ
        function chart(doanhThu) {
            var labels = ['Tháng 1', 'Tháng 2', 'Tháng 3', 'Tháng 4', 'Tháng 5', 'Tháng 6', 'Tháng 7', 'Tháng 8', 'Tháng 9', 'Tháng 10', 'Tháng 11', 'Tháng 12'];

            // Tạo biểu đồ
            var ctx = document.getElementById('myChart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Doanh thu theo tháng',
                        data: doanhThu,
                        backgroundColor: 'rgba(54, 162, 235, 0.2)',
                        borderColor: 'rgba(54, 162, 235, 1)',
                        borderWidth: 1
                    }]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true 
                            }
                        }]
                    }
                }
            });
        }
        // Gọi hàm chart với giá trị doanhThu từ Model
        chart(@Html.Raw(Json.Encode(Model)));
</script>